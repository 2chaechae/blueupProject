<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="reviewDao">

	<insert id="insertReview" parameterType="reviewvo">
		INSERT INTO REVIEW(
			PRODUCT_NO,
			PRODUCT_NAME,
			USER_NO,
			CLOTHES_SIZE,
			STAR,
			REVIEW_TITLE,
			REVIEW_CONTENT,
			USER_ID,
			REVIEW_TIME,
			COLOR,
			MAIN_IMAGE
		) VALUES(
			#{product_no},
			#{product_name},
			#{user_no},
			#{clothes_size},
			#{star},
			#{review_title},
			#{review_content},
			#{user_id},
			#{review_time},
			#{color},
			#{main_image}
		)
	</insert>
	
	<!-- 리뷰 삭제 -->
	<delete id="deleteReivew" parameterType="reviewvo">
		DELETE FROM REVIEW WHERE REVIEW_NO = #{review_no}
	</delete>
	<!--전체 상품리뷰  -->
	<select id="getReviewList" parameterType="reviewvo" resultType="reviewvo">
		SELECT * FROM REVIEW WHERE USER_NO = #{user_no}
	</select>
	
	<!-- 리뷰 수정을 위한 쿼리 -->
	<update id="updateReview" parameterType="reviewvo">
		UPDATE REVIEW   
		SET
	    STAR = #{star}, <!-- 별점 바꾸기 -->
		REVIEW_TITLE = #{review_title}, <!-- 리뷰 제목 -->
		REVIEW_CONTENT = #{review_content},  <!-- 리뷰 내용 -->
		<!-- 사진이랑 리뷰 작성 시간 -->
		WHERE REVIEW_NO = #{review_no}
	</update>

</mapper>