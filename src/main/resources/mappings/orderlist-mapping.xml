<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="orderlistDao">
	<!-- 모든 주문/배송 조회 -->
	<select id="getOrderList" resultType="ordervo">
		SELECT  
			a.order_no, a.order_time,
					
			b.product_name, b.product_price, b.product_img,
			b.product_color, b.product_size, 
			b.product_quantity, b.order_status
		
		FROM order_request as a right outer join order_detail as b
		on a.order_no = b.order_no
		ORDER BY a.order_no desc;
	</select>
	
	<!-- 상세 주문/배송 조회 -->
	<select id="getOrderDetail" resultType="ordervo">
		SELECT  
			a.order_no, a.order_time, a.receiver, a.address,
			a.order_price, a.coupon_discount, a.used_point,
			a.order_means, a.delivery_fee,
							
			b.product_name, b.product_price, b.product_img,
			b.product_color, b.product_size, 
			b.product_quantity, b.order_status,
			b.phone1, b.phone2, b.phone3,
			b.discount_rate, b.cancel_date, b.refund_means,
			b.refund_bank, b.refund_account, b.refund_price
		
		FROM order_request as a right outer join order_detail as b
		on a.order_no = b.order_no
		where a.order_no = #{order_no};
	</select>

</mapper>